# Claude Code Project Configuration
# Last Updated: 2024-11-20

## Project Identity
project_name: "Floss - Kinetic Typography Motion Design Tool"
project_type: "webapp"
primary_language: "javascript"
framework: "Vanilla JS ES6 Modules"

## ðŸš¨ CRITICAL: Repository Structure
# As of Nov 2024, repository was restructured:
# - Active app is in ROOT directory (index.html, js/, styles/, lib/)
# - Old tutorial reference files are in /reference/ directory
# - NO /app/ subdirectory anymore (old structure)

## Key Files to Read First
context_files:
  - CLAUDE.md              # Complete project context - READ THIS FIRST
  - README.md              # Project overview
  - PLUGIN_SPEC.md         # Effect plugin specification
  - index.html             # Main app entry point
  - js/app.js              # Application controller

## Directory Structure
root_app: true
reference_only: "reference/"  # DO NOT MODIFY - Original tutorial files

## Common Commands
local_server: "python3 -m http.server 8080"
test_offline: "Open DevTools â†’ Application â†’ Service Workers â†’ Offline checkbox"
bump_cache: "Edit service-worker.js CACHE_VERSION"

## Architecture Notes
- Plugin-based effect system (js/effects/*.js extend EffectBase)
- No build step required - pure ES6 modules
- THREE.js r115 for WebGL rendering
- Canvas 2D text â†’ WebGL texture pipeline
- Service Worker for offline-first functionality
- LocalStorage for state persistence

## Deployment
platform: "GitHub Pages"
branch: "main"
url: "https://karstenhoffmann.github.io/floss/"
deploy_time: "~1-2 minutes after push to main"
cache_note: "Bump service-worker.js CACHE_VERSION for breaking changes"

## Development Workflow
branch_prefix: "claude/"
base_branch: "main"
commit_format: "<type>: <description>"

## Prevention Rules
# To avoid confusion in future sessions:
NEVER_MODIFY:
  - /reference/*  # Historical reference only
ALWAYS_CHECK:
  - No /app/ directory exists (old structure)
  - Working in root directory
  - Branch starts with 'claude/'
  - Based on 'main' branch
READ_FIRST:
  - CLAUDE.md before ANY task
  - Verify repository structure is correct
